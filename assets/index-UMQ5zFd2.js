var ct=Object.defineProperty;var at=(e,s,t)=>s in e?ct(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var z=(e,s,t)=>(at(e,typeof s!="symbol"?s+"":s,t),t),we=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var i=(e,s,t)=>(we(e,s,"read from private field"),t?t.call(e):s.get(e)),a=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},l=(e,s,t,n)=>(we(e,s,"write to private field"),n?n.call(e,t):s.set(e,t),t);var W=(e,s,t)=>(we(e,s,"access private method"),t);import{d,a as y,b as Ye,c as p,C as A,p as u,e as Ee,D as ht,r as qe,f as De,g as ut,h as ft,i as lt,j as Ue,k as pt,T as h,l as I,m as pe,n as dt,$ as yt,o as gt}from"./vendor-f07_YXIF.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function le(...e){return(s,t)=>(e.forEach(n=>n==null?void 0:n(s,t)),t)}const Xe=d();function mt(){return(e,s)=>(y(e,Xe,s),s)}const Ie=d();function Ve(){return(e,s)=>(y(e,Ie,s),s)}function V(e,...s){return le(Ve(),...s)(e,Ye(e))}var P,g;class vt{constructor(){a(this,P,new Map);a(this,g,new Map)}destroy(){i(this,P).clear(),i(this,g).clear()}unset(s,t){if(t)i(this,P).has(t)&&i(this,g).has(s)&&(i(this,P).get(t).delete(s),i(this,g).get(s).delete(t));else if(i(this,g).has(s)){for(const n of i(this,g).get(s))i(this,P).get(n).delete(s);i(this,g).delete(s)}}set(s,t,n){if(typeof t=="string")i(this,P).has(t)||i(this,P).set(t,new Map),i(this,g).has(s)||i(this,g).set(s,new Set),i(this,g).get(s).add(t),i(this,P).get(t).set(s,n);else if(typeof t=="object")for(const[r,o]of Object.entries(t))this.set(s,r,o)}get(s,t){if(t){if(i(this,P).has(t)&&i(this,g).has(s)&&i(this,g).get(s).has(t))return i(this,P).get(t).get(s)}else if(i(this,g).has(s)){const n={};for(const r of i(this,g).get(s))n[r]=i(this,P).get(r).get(s);return n}}}P=new WeakMap,g=new WeakMap;const Ge=d();function ze(){return(e,s)=>(y(e,Ge,s),s)}const Qe=d();function Te(){return(e,s)=>(y(e,Qe,s),s)}function St(){const e=p([A(R)]),s=p([Qe,S]);return t=>{for(const n of e(t)){const r=R.dPad[n];for(const o of s(t)){let c=null,k=0,$=0;const _=S.max[o];if(r&j[b.Up]&&!(r&j[b.Down])?($=-_,c=E.Up):r&j[b.Down]&&!(r&j[b.Up])&&($=_,c=E.Down),r&j[b.Left]&&!(r&j[b.Right])?(k=-_,c=E.Left):r&j[b.Right]&&!(r&j[b.Left])&&(k=_,c=E.Right),V(t,Rt(o,k,$)),We.direction[o]!==c&&c!==null&&V(t,Kt(o,c)),k||$){let q=null;switch(c){case E.Up:q=K.up[o];break;case E.Down:q=K.down[o];break;case E.Left:q=K.left[o];break;case E.Right:q=K.right[o];break}x.animation[o]!==q&&q!==null&&V(t,Wt(o,q))}else V(t,Ct(o))}}return t}}var f,H,J,M,T,B,ve,Z,Y,te,se,ne,ie,O,Se;class kt extends u.Plugins.ScenePlugin{constructor(){super(...arguments);a(this,f,void 0);a(this,H,new Set);a(this,J,new Set);a(this,M,new Set);a(this,T,new Set);a(this,B,new Set);a(this,ve,null);a(this,Z,null);a(this,Y,null);a(this,te,null);a(this,se,null);a(this,ne,null);a(this,ie,null);a(this,O,new Set);a(this,Se,!1)}async*outSync(){for(;!i(this,Se);)yield new Promise(t=>{l(this,ie,t)})}inSync({sync:t}){t!=null&&t.byteLength&&i(this,O).add(t)}definePreSystems(...t){t.forEach(n=>i(this,H).add(Ee(n)))}defineUpdateSystems(...t){t.forEach(n=>i(this,J).add(Ee(n)))}definePostSystems(...t){t.forEach(n=>i(this,M).add(Ee(n)))}preUpdate(t,n){var r;if((r=i(this,ie))==null||r.call(this,{sync:i(this,te).call(this,i(this,ne).call(this,i(this,f)))}),i(this,O).size){const o=Array.from(i(this,O));i(this,O).clear();for(const c of o)for(const k of i(this,se).call(this,i(this,f),c,ht.MAP))qe(i(this,f),Ge,k),qe(i(this,f),Qe,k)}for(const o of i(this,H))o(i(this,f),t,n)}update(t,n){for(const r of i(this,J))r(i(this,f),t,n)}postUpdate(t,n){var r,o;for(const c of((r=i(this,Z))==null?void 0:r.call(this,i(this,f)))||[])De(i(this,f),c);for(const c of((o=i(this,Y))==null?void 0:o.call(this,i(this,f)))||[])De(i(this,f),c);for(const c of i(this,M))c(i(this,f),t,n);for(const c of i(this,B))this.addEntity(c);for(const c of i(this,T))this.addEntity(c);i(this,T).clear(),i(this,B).clear()}addEntity(...t){return le(...t)(i(this,f),Ye(i(this,f)))}removeEntity(t){De(i(this,f),t)}emit(...t){t.length&&i(this,T).add(le(mt(),...t))}request(...t){t.length&&i(this,B).add(le(Ve(),...t))}boot(){l(this,f,ut({scene:this.scene,store:new vt})),l(this,te,ft(i(this,f))),l(this,se,lt(i(this,f))),l(this,ne,p([Ge])),l(this,Z,p([Xe])),l(this,Y,p([Ie])),this.scene.events.on(u.Scenes.Events.PRE_UPDATE,this.preUpdate,this),this.scene.events.on(u.Scenes.Events.UPDATE,this.update,this),this.scene.events.on(u.Scenes.Events.POST_UPDATE,this.postUpdate,this)}destroy(){this.scene.events.off(u.Scenes.Events.PRE_UPDATE,this.preUpdate),this.scene.events.off(u.Scenes.Events.UPDATE,this.update),this.scene.events.off(u.Scenes.Events.POST_UPDATE,this.postUpdate),i(this,H).clear(),i(this,J).clear(),i(this,M).clear(),i(this,T).clear(),i(this,B).clear(),Ue(i(this,f),i(this,Z)),Ue(i(this,f),i(this,Y)),Ue(i(this,f),i(this,ve)),pt(i(this,f))}}f=new WeakMap,H=new WeakMap,J=new WeakMap,M=new WeakMap,T=new WeakMap,B=new WeakMap,ve=new WeakMap,Z=new WeakMap,Y=new WeakMap,te=new WeakMap,se=new WeakMap,ne=new WeakMap,ie=new WeakMap,O=new WeakMap,Se=new WeakMap;var de=(e=>(e[e.Set=0]="Set",e[e.Add=1]="Add",e))(de||{});const m=d({vec2:[h.f32,2]});function Be(e,s){return(t,n)=>(y(t,m,n),fe(m.vec2[n],e,s),n)}const Q=d({eid:h.eid,vec2:[h.f32,2],type:h.ui8}),ye=d({mat2:[h.f32,4]});function Pt(e,s,t){return(n,r)=>(y(n,Q,r),Q.type[r]=de.Add,Q.eid[r]=e,fe(Q.vec2[r],s,t),r)}function bt(e){const s=I(p([Q]));return t=>{for(const n of s(t)){const r=Q.eid[n];if(pe(t,m,r)){switch(Q.type[n]){case de.Set:me(m.vec2[r],Q.vec2[n]);break;case de.Add:Ae(m.vec2[r],Q.vec2[n]);break}e&&Fe(m.vec2[r],e)}}return t}}function Lt(){const e=I(p([m,ye]));return s=>{for(const t of e(s))Fe(m.vec2[t],ye.mat2[t]);return s}}function jt(){const e=p([A(m),ye]);return s=>{for(const t of e(s))Fe(m.vec2[t],ye.mat2[t]);return s}}const G=d({texture:h.ui8,depth:h.ui8});function Oe(e,s){return(t,n)=>(y(t,G,n),G.depth[n]=e,G.texture[n]=s,n)}function xt(e){const s=I(p([G]));return t=>{for(const n of s(t)){const{scene:r,store:o}=t,c=r.add.sprite(m.vec2[n][0],m.vec2[n][1],e[G.texture[n]]);c.setPosition(...m.vec2[n]),c.setDepth(G.depth[n]),c.setData({eid:n}),o.set(n,"sprite",c)}return t}}function wt(){const e=p([A(m),G]),s=p([A(G)]);return t=>{for(const n of e(t)){const r=t.store.get(n,"sprite");r instanceof u.GameObjects.Sprite&&r.setPosition(...m.vec2[n])}for(const n of s(t)){const r=t.store.get(n,"sprite");r instanceof u.GameObjects.Sprite&&r.setDepth(G.depth[n])}return t}}function Et(){const e=dt(p([G]));return s=>{for(const t of e(s)){const n=s.store.get(t,"sprite");n instanceof u.GameObjects.Sprite&&n.destroy(),s.store.unset(t,"sprite")}return s}}var ge=(e=>(e[e.Set=0]="Set",e[e.Add=1]="Add",e))(ge||{});const S=d({vec2:[h.f32,2],max:h.f32});function He(e,s,t){return(n,r)=>(y(n,S,r),fe(S.vec2[r],e,s),S.max[r]=t,r)}const F=d({eid:h.eid,vec2:[h.f32,2],type:h.ui8});function Dt(){const e=I(p([F]));return s=>{for(const t of e(s)){const n=F.eid[t];if(pe(s,S,n)){switch(F.type[t]){case ge.Set:me(S.vec2[n],F.vec2[t]);break;case ge.Add:Ae(S.vec2[n],F.vec2[t]);break}zt(S.vec2[n],S.max[n])}}return s}}function Ut(){const e=p([S]);return(s,t,n)=>{for(const r of e(s))if(!Ke(S.vec2[r])){const o=n/1e3;V(s,Pt(r,S.vec2[r][0]*o,S.vec2[r][1]*o))}return s}}function Rt(e,s,t){return(n,r)=>(y(n,F,r),F.type[r]=ge.Set,F.eid[r]=e,fe(F.vec2[r],s,t),r)}const Ne=d(),x=d({animation:h.ui8,state:h.ui8}),U=d({eid:h.eid,animation:h.ui8,type:h.ui8});var _e=(e=>(e[e.Stop=0]="Stop",e[e.Play=1]="Play",e[e.PlayOnce=2]="PlayOnce",e[e.Loop=3]="Loop",e))(_e||{}),ee=(e=>(e[e.Stop=0]="Stop",e[e.Play=1]="Play",e))(ee||{});function Je(){return(e,s)=>(y(e,Ne,s),s)}function Gt(){const e=I(p([U]));return s=>{for(const t of e(s)){const n=U.eid[t];if(pe(s,Ne,n))switch(pe(s,x,n)||y(s,x,n),U.type[t]){case ee.Play:x.animation[n]=U.animation[t],x.state[n]=_e.Play;break;case ee.Stop:x.state[n]=_e.Stop;break}}return s}}function _t(e){const s=I(p([x])),t=p([A(x)]);return n=>{for(const r of s(n)){const o=n.store.get(r,"sprite");o instanceof u.GameObjects.Sprite&&x.state[r]&&o.play(e[x.animation[r]])}for(const r of t(n)){const o=n.store.get(r,"sprite");o instanceof u.GameObjects.Sprite&&(x.state[r]?o.play(e[x.animation[r]]):o.stop())}return n}}function Wt(e,s){return(t,n)=>(y(t,U,n),U.type[n]=ee.Play,U.animation[n]=s,U.eid[n]=e,n)}function Ct(e){return(s,t)=>(y(s,U,t),U.type[t]=ee.Stop,U.eid[t]=e,t)}const R=d({leftStick:[h.f32,2],rightStick:[h.f32,2],dPad:h.ui8,buttons:h.ui8,extraButtons:h.ui8});function Qt(e){return(s,t)=>{y(s,R,t);const{buttons:n,dPad:r,extraButtons:o,leftStick:c,rightStick:k}=e;return R.buttons[t]=n,R.dPad[t]=r,R.extraButtons[t]=o,me(R.leftStick[t],c),me(R.rightStick[t],k),t}}var b=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e))(b||{});const j=[1,2,4,8];function Ft(e){const s=p([R]);return t=>{for(const n of s(t)){let r=0;e.up.isDown&&(r|=j[b.Up]),e.down.isDown&&(r|=j[b.Down]),e.left.isDown&&(r|=j[b.Left]),e.right.isDown&&(r|=j[b.Right]),R.dPad[n]=r}return t}}const We=d({direction:h.ui8}),Re=d({entity:h.eid,direction:h.eid});function Me(e){return(s,t)=>(y(s,We,t),We.direction[t]=e,t)}var E=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e))(E||{});function Kt(e,s){return(t,n)=>(y(t,Re,n),Re.entity[n]=e,Re.direction[n]=s,n)}const K=d({up:h.ui8,down:h.ui8,left:h.ui8,right:h.ui8});function Ze(e){return(s,t)=>(y(s,K,t),K.up[t]=e.up,K.down[t]=e.down,K.left[t]=e.left,K.right[t]=e.right,t)}function me(e,s){e[0]=s[0],e[1]=s[1]}function fe(e,s,t){e[0]=s,e[1]=t}function Ae(e,s,t=1){e[0]+=s[0]*t,e[1]+=s[1]*t}function $t(e,s=1){Ke(e)||(e[0]*=s,e[1]*=s)}function Fe(e,s){e[0]=Math.min(Math.max(s[0],e[0]),s[2]),e[1]=Math.min(Math.max(s[1],e[1]),s[3])}function qt(e){return Math.hypot(e[0],e[1])}function zt(e,s){if(!Ke(e))if(s){const t=qt(e);t&&t>s&&$t(e,s/t)}else fe(e,0,0)}function Ke(e){return!e[0]&&!e[1]}const Tt=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Bt(e){if(typeof e!="string"||!e)return null;const s=e.toLowerCase();return Tt.test(s)&&["8","9","a","b"].includes(s.charAt(19))?s:null}var v,X,C,D,L,re,oe,ce,ae,he,ke,et,Pe,tt,be,st,Le,nt,ue,Ce,je,it,xe,rt;class Ot extends u.Plugins.BasePlugin{constructor(t){super(t);a(this,ke);a(this,Pe);a(this,be);a(this,Le);a(this,ue);a(this,je);a(this,xe);a(this,v,null);a(this,X,null);a(this,C,null);a(this,D,null);a(this,L,!1);a(this,re,void 0);a(this,oe,void 0);a(this,ce,void 0);a(this,ae,void 0);a(this,he,null);l(this,re,new Promise(n=>{l(this,oe,n)})),l(this,ce,new Promise(n=>{l(this,ae,n)}))}init({enabled:t=!1}){l(this,L,t),i(this,L)&&(l(this,v,new yt),i(this,v).on("connection",n=>W(this,ue,Ce).call(this,n)).on("open",n=>W(this,je,it).call(this,n)).on("error",n=>W(this,xe,rt).call(this,n)))}start(){i(this,L)&&(i(this,v).disconnected&&!i(this,v).destroyed&&i(this,v).reconnect(),i(this,C)&&i(this,v).connect(i(this,C)))}stop(){i(this,L)&&i(this,v).disconnect()}connectRemote(t){if(i(this,L)){const n=Bt(t);n&&W(this,ue,Ce).call(this,i(this,v).connect(n))}}sendText(t){i(this,L)&&i(this,D)&&i(this,D).send(t)}outSync({sync:t}){i(this,L)&&i(this,D)&&i(this,D).send({type:"sync",sync:t})}async*inSync(){for(;i(this,v)&&!i(this,v).disconnected;)yield new Promise(t=>{l(this,he,t)})}destroy(){i(this,L)&&i(this,v).destroy()}get id(){return i(this,X)}get remote(){return i(this,C)}get open(){return i(this,re)}get connect(){return i(this,ce)}get enabled(){return i(this,L)}}v=new WeakMap,X=new WeakMap,C=new WeakMap,D=new WeakMap,L=new WeakMap,re=new WeakMap,oe=new WeakMap,ce=new WeakMap,ae=new WeakMap,he=new WeakMap,ke=new WeakSet,et=function(){console.log("open"),i(this,C)||l(this,C,i(this,D).peer),i(this,ae).call(this,i(this,C)),i(this,D).on("close",()=>W(this,Pe,tt).call(this)).on("data",t=>W(this,be,st).call(this,t)).on("error",t=>W(this,Le,nt).call(this,t))},Pe=new WeakSet,tt=function(){console.log("close")},be=new WeakSet,st=function({type:t,sync:n,requests:r}){var o;t==="sync"&&(r!=null&&r.byteLength||n!=null&&n.byteLength)&&((o=i(this,he))==null||o.call(this,{sync:n,requests:r}))},Le=new WeakSet,nt=function(t){console.error(t)},ue=new WeakSet,Ce=function(t){l(this,D,t),i(this,D).on("open",()=>W(this,ke,et).call(this))},je=new WeakSet,it=function(t){l(this,X,t),i(this,oe).call(this,i(this,X))},xe=new WeakSet,rt=function(t){console.error(t)};class Ht extends u.Scene{constructor(){super({key:"GameOver"})}preload(){}create(){this.data.set({score:0,lives:3}),this.add.text(200,200,"GAME OVER")}}var N=(e=>(e[e.GreenNinja=0]="GreenNinja",e[e.RedNinja=1]="RedNinja",e[e.Bomb=2]="Bomb",e[e.Explosion=3]="Explosion",e))(N||{}),w=(e=>(e[e.GreenNinjaWalkUp=0]="GreenNinjaWalkUp",e[e.GreenNinjaWalkDown=1]="GreenNinjaWalkDown",e[e.GreenNinjaWalkLeft=2]="GreenNinjaWalkLeft",e[e.GreenNinjaWalkRight=3]="GreenNinjaWalkRight",e[e.RedNinjaWalkUp=4]="RedNinjaWalkUp",e[e.RedNinjaWalkDown=5]="RedNinjaWalkDown",e[e.RedNinjaWalkLeft=6]="RedNinjaWalkLeft",e[e.RedNinjaWalkRight=7]="RedNinjaWalkRight",e[e.Bomb=8]="Bomb",e[e.Explosion=9]="Explosion",e))(w||{});const Jt=[w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9]],Mt=[N[0],N[1],N[2],N[3]];class Zt extends u.Scene{constructor(){super("Game");z(this,"ecs");z(this,"timer");z(this,"peerjs")}create({mode:t,green:n}){this.scene.launch("UI"),this.data.set({level:0,lives:3}),this.ecs.definePreSystems(Dt(),bt(Float32Array.from([64,64,416,416])),Gt(),Lt(),xt(Mt),_t(Jt)),this.ecs.defineUpdateSystems(Ft({up:this.input.keyboard.addKey(u.Input.Keyboard.KeyCodes.UP),down:this.input.keyboard.addKey(u.Input.Keyboard.KeyCodes.DOWN),left:this.input.keyboard.addKey(u.Input.Keyboard.KeyCodes.LEFT),right:this.input.keyboard.addKey(u.Input.Keyboard.KeyCodes.RIGHT)}),wt()),this.ecs.definePostSystems(jt(),Et(),St(),Ut()),this.ecs.addEntity(Qt({buttons:0,dPad:0,extraButtons:0,leftStick:Float32Array.from([0,0]),rightStick:Float32Array.from([0,0])})),n===this.peerjs.id||t==="single"?this.ecs.addEntity(ze(),Te(),Je(),Ze({up:0,down:1,left:2,right:3}),Oe(10,0),Be(64,64),He(0,0,100),Me(E.Down)):this.ecs.addEntity(ze(),Te(),Je(),Ze({up:4,down:5,left:6,right:7}),Oe(10,1),Be(416,416),He(0,0,100),Me(E.Down)),t==="vs"&&(this.outSync(),this.inSync());const r=this.make.tilemap({key:"map"}),o=r.addTilesetImage("TilesetInterior","TilesetInterior"),c=r.addTilesetImage("TilesetInteriorFloor","TilesetInteriorFloor"),k=r.addTilesetImage("TilesetDungeon","TilesetDungeon");r.createLayer("Floor",[c],40,40);const $=r.createLayer("Walls",[o],40,40),_=r.createLayer("Stones",[k],40,40);$.setCollision([162,166,163,184,210,244,215,179,291,262,279,195,245,276,273,274,246,278,198,280,275,261,193,310,307,311]),_.setCollision(739),this.sys.events.on("wake",this.wake,this)}async outSync(){var t;for await(const n of this.ecs.outSync())(t=n.sync)!=null&&t.byteLength&&this.peerjs.outSync(n)}async inSync(){var t;for await(const n of this.peerjs.inSync())(t=n.sync)!=null&&t.byteLength&&this.ecs.inSync(n)}openMenu(){this.scene.sleep("UI"),this.scene.switch("Menu")}wake(){this.scene.run("UI")}}class Yt extends u.Scene{constructor(){super({key:"InviteLink"});z(this,"peerjs")}preload(){this.load.image("nine","assets/ui/nine.png"),this.load.image("nineLight","assets/ui/nineLight.png")}create(){const t=new URL(location.href).searchParams.get("r");let n,r;if(t)n=t,r=this.peerjs.id,this.peerjs.connectRemote(t);else{const o=`${location.origin}${location.pathname}?r=${this.peerjs.id}`;console.log(o),n=this.peerjs.id,this.add.nineslice(this.scale.width/2,this.scale.height/2,"nineLight","nineLight",340,340,16,16,16,16);const{modules:{size:c,data:k}}=gt(o),$=Array.from({length:c},(q,$e)=>Array.from(k.subarray(c*$e,c*($e+1))).map(ot=>45-ot)),_=this.make.tilemap({data:$,tileWidth:16,tileHeight:16});_.createLayer(0,[_.addTilesetImage("TilesetDungeon")],92,92).setScale(.5)}this.peerjs.connect.then(o=>{this.scene.start("Game",{mode:"vs",green:n,red:r||o})})}}class Xt extends u.Scene{constructor(){super({key:"Menu"})}preload(){}create(){}closeMenu(){this.scene.switch("Game")}}class It extends u.Scene{constructor(){super({key:"Preload"});z(this,"peerjs")}preload(){this.load.pack("pack","assets/pack.json"),this.load.atlasXML("ui","assets/ui/atlas.png","assets/ui/atlas.xml")}create(){this.peerjs.enabled?this.peerjs.open.then(()=>{this.scene.start("InviteLink")}):this.scene.start("Game",{mode:"single"})}}class Vt extends u.Scene{constructor(){super({key:"UI"});z(this,"scoreText",null);z(this,"livesText",null)}preload(){}create(){this.data.set({score:0,lives:3}),this.scoreText=this.add.text(44,0,`Score: ${this.data.get("score")}`,{fontFamily:"Pixel",fontSize:"24px"}),this.livesText=this.add.text(384,0,`Lives: ${this.data.get("lives")}`,{fontFamily:"Pixel",fontSize:"24px"})}setScore(t){var n;this.data.set("score",t),(n=this.scoreText)==null||n.setText(`Score: ${t}`)}setLives(t){var n;this.data.set("lives",t),(n=this.livesText)==null||n.setText(`Lives: ${t}`)}}class Nt extends u.Game{constructor(s=480,t=480){const n=new URL(location.href).searchParams,r=n.has("peerjs")||!!n.get("r"),o={type:u.WEBGL,width:s,height:t,parent:"game",scale:{mode:u.Scale.FIT,autoCenter:u.Scale.CENTER_BOTH},plugins:{global:[{key:"peerjsPlugin",plugin:Ot,start:!0,mapping:"peerjs",data:{enabled:r}}],scene:[{key:"ecsPlugin",plugin:kt,mapping:"ecs"}]},scene:[It,Zt,Xt,Vt,Ht,Yt],backgroundColor:"#141b1b"};super(o)}}window.bomberman=new Nt;
